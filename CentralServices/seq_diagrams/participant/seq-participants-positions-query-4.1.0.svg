<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1757px" preserveAspectRatio="none" style="width:1864px;height:1757px;" version="1.1" viewBox="0 0 1864 1757" width="1864px" zoomAndPan="magnify"><defs><filter height="300%" id="f15gc2i58yrj07" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="789" y="22.9951">4.1.0 Get Participant Position Details</text><rect fill="#ADD8E6" height="1711.9688" style="stroke: #A80036; stroke-width: 1.0;" width="126" x="39" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="51" y="46.3638">HUB Operator</text><rect fill="#FFFFE0" height="1711.9688" style="stroke: #A80036; stroke-width: 1.0;" width="1170" x="631" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="1160.5" y="46.3638">Central Service</text><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1545.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="125.7266"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1499.9766" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697" y="170.9922"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1419.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1037" y="200.125"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1262" y="244.3906"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1386" y="556.8516"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1386" y="954.9141"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1744" y="273.5234"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1744" y="585.9844"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1744" y="984.0469"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1531.2422" style="stroke: #000000; stroke-width: 2.0;" width="1840" x="13" y="132.7266"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1219.7813" style="stroke: #000000; stroke-width: 2.0;" width="1820" x="23" y="437.1875"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="904.3828" style="stroke: #000000; stroke-width: 2.0;" width="1800" x="33" y="503.4531"/><rect fill="#FFFFFF" height="503.9922" style="stroke: none; stroke-width: 1.0;" width="1800" x="33" y="903.8438"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1820" x="23" y="1414.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="702" x2="702" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1041.5" x2="1041.5" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1266.5" x2="1266.5" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1390.5" x2="1390.5" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1749" x2="1749" y1="115.7266" y2="1680.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="43" y="112.4248">HUB OPERATOR</text><ellipse cx="102" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="90" x2="114" y1="97.4297" y2="97.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="43" y="1692.9639">HUB OPERATOR</text><ellipse cx="102" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="90" x2="114" y1="1726.2656" y2="1726.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="635" y="112.4248">Central Service API</text><path d="M681.5,71.4297 L681.5,95.4297 M681.5,83.4297 L698.5,83.4297 " fill="none" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="710.5" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="635" y="1692.9639">Central Service API</text><path d="M681.5,1700.2656 L681.5,1724.2656 M681.5,1712.2656 L698.5,1712.2656 " fill="none" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="710.5" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="974.5" y="112.4248">Participant Handler</text><ellipse cx="1042" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1038,71.4297,1044,66.4297,1042,71.4297,1044,76.4297,1038,71.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="974.5" y="1692.9639">Participant Handler</text><ellipse cx="1042" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1038,1700.2656,1044,1695.2656,1042,1700.2656,1044,1705.2656,1038,1700.2656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1210.5" y="112.4248">Participant DAO</text><ellipse cx="1267" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1255" x2="1279" y1="97.4297" y2="97.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1210.5" y="1692.9639">Participant DAO</text><ellipse cx="1267" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1255" x2="1279" y1="1726.2656" y2="1726.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1333.5" y="112.4248">Position Facade</text><ellipse cx="1391" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1379" x2="1403" y1="97.4297" y2="97.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1333.5" y="1692.9639">Position Facade</text><ellipse cx="1391" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1379" x2="1403" y1="1726.2656" y2="1726.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1701" y="112.4248">Central Store</text><path d="M1731,63.4297 C1731,53.4297 1749,53.4297 1749,53.4297 C1749,53.4297 1767,53.4297 1767,63.4297 L1767,89.4297 C1767,99.4297 1749,99.4297 1749,99.4297 C1749,99.4297 1731,99.4297 1731,89.4297 L1731,63.4297 " fill="#FEFECE" filter="url(#f15gc2i58yrj07)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1731,63.4297 C1731,73.4297 1749,73.4297 1749,73.4297 C1749,73.4297 1767,73.4297 1767,63.4297 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1701" y="1692.9639">Central Store</text><path d="M1731,1706.2656 C1731,1696.2656 1749,1696.2656 1749,1696.2656 C1749,1696.2656 1767,1696.2656 1767,1706.2656 L1767,1732.2656 C1767,1742.2656 1749,1742.2656 1749,1742.2656 C1749,1742.2656 1731,1742.2656 1731,1732.2656 L1731,1706.2656 " fill="#FEFECE" filter="url(#f15gc2i58yrj07)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1731,1706.2656 C1731,1716.2656 1749,1716.2656 1749,1716.2656 C1749,1716.2656 1767,1716.2656 1767,1706.2656 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1545.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="125.7266"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1499.9766" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697" y="170.9922"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1419.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1037" y="200.125"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1262" y="244.3906"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1386" y="556.8516"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1386" y="954.9141"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1744" y="273.5234"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1744" y="585.9844"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1744" y="984.0469"/><path d="M13,132.7266 L204,132.7266 L204,139.7266 L194,149.7266 L13,149.7266 L13,132.7266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1531.2422" style="stroke: #000000; stroke-width: 2.0;" width="1840" x="13" y="132.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="28" y="145.7935">Get Position Details</text><polygon fill="#A80036" points="685,166.9922,695,170.9922,685,174.9922,689,170.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="691" y1="170.9922" y2="170.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114" y="165.9263">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="558" x="127" y="165.9263">Request to get positions - GET - /participants/{name}/positions?currency={currencyId}</text><polygon fill="#A80036" points="1025,196.125,1035,200.125,1025,204.125,1029,200.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="707" x2="1031" y1="200.125" y2="200.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="714" y="195.0591">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="727" y="195.0591">Fetch Positions for Participant</text><polygon fill="#A80036" points="1250,240.3906,1260,244.3906,1250,248.3906,1254,244.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1047" x2="1256" y1="244.3906" y2="244.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1054" y="231.7583">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1067" y="224.1919">Fetch Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1067" y="239.3247">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1153" y="239.3247">2003,3201</text><polygon fill="#A80036" points="1732,269.5234,1742,273.5234,1732,277.5234,1736,273.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1272" x2="1738" y1="273.5234" y2="273.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1279" y="268.4575">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1292" y="268.4575">Fetch Participant</text><polygon fill="#FFFFE0" filter="url(#f15gc2i58yrj07)" points="1713,286.5234,1785,286.5234,1795,297.5234,1785,309.5234,1713,309.5234,1703,297.5234,1713,286.5234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1715" y="302.5903">participant</text><polygon fill="#A80036" points="1283,331.7891,1273,335.7891,1283,339.7891,1279,335.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1277" x2="1748" y1="335.7891" y2="335.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1289" y="330.7231">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="1302" y="330.7231">Retrieved Participant</text><polygon fill="#A80036" points="1058,360.9219,1048,364.9219,1058,368.9219,1054,364.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1052" x2="1266" y1="364.9219" y2="364.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1064" y="359.856">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1077" y="359.856">Return Participant</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1047" x2="1089" y1="409.1875" y2="409.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1089" x2="1089" y1="409.1875" y2="422.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1048" x2="1089" y1="422.1875" y2="422.1875"/><polygon fill="#A80036" points="1058,418.1875,1048,422.1875,1058,426.1875,1054,422.1875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1054" y="396.5552">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="1067" y="388.9888">Validate DFSP</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1067" y="404.1216">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1153" y="404.1216">3201</text><path d="M23,437.1875 L87,437.1875 L87,444.1875 L77,454.1875 L23,454.1875 L23,437.1875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1219.7813" style="stroke: #000000; stroke-width: 2.0;" width="1820" x="23" y="437.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="450.2544">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="102" y="449.3979">[Validate participant (success)]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1047" x2="1089" y1="475.4531" y2="475.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1089" x2="1089" y1="475.4531" y2="488.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1048" x2="1089" y1="488.4531" y2="488.4531"/><polygon fill="#A80036" points="1058,484.4531,1048,488.4531,1058,492.4531,1054,488.4531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1054" y="470.3872">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="1067" y="470.3872">currency parameter passed ?</text><path d="M33,503.4531 L97,503.4531 L97,510.4531 L87,520.4531 L33,520.4531 L33,503.4531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="904.3828" style="stroke: #000000; stroke-width: 2.0;" width="1800" x="33" y="503.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="48" y="516.52">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="112" y="515.6636">[currency parameter passed]</text><polygon fill="#A80036" points="1374,552.8516,1384,556.8516,1374,560.8516,1378,556.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1047" x2="1380" y1="556.8516" y2="556.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1054" y="544.2192">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="1067" y="536.6528">Fetch Participant position for a currency id</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1067" y="551.7856">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1153" y="551.7856">2003</text><polygon fill="#A80036" points="1732,581.9844,1742,585.9844,1732,589.9844,1736,585.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1396" x2="1738" y1="585.9844" y2="585.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1403" y="580.9185">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="1425" y="580.9185">Fetch Participant position for a currency id</text><polygon fill="#FFFFE0" filter="url(#f15gc2i58yrj07)" points="1684,598.9844,1813,598.9844,1823,617.9844,1813,636.9844,1684,636.9844,1674,617.9844,1684,598.9844" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1686" y="615.0513">participantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1686" y="630.1841">participantPosition</text><polygon fill="#A80036" points="1407,659.3828,1397,663.3828,1407,667.3828,1403,663.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1401" x2="1748" y1="663.3828" y2="663.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1413" y="658.3169">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="1435" y="658.3169">Retrieved Participant position for a currency id</text><polygon fill="#A80036" points="1058,688.5156,1048,692.5156,1058,696.5156,1054,692.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1052" x2="1390" y1="692.5156" y2="692.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1064" y="687.4497">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="1086" y="687.4497">Return Positions for Participant</text><path d="M1052,705.5156 L1052,836.5156 L1299,836.5156 L1299,715.5156 L1289,705.5156 L1052,705.5156 " fill="#FFFF00" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1289,705.5156 L1289,715.5156 L1299,715.5156 L1289,705.5156 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1058" y="722.5825">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1058" y="737.7153">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1074" y="752.8481">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="1090" y="767.981">currency: &lt;currencyId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="1090" y="783.1138">value: &lt;positionValue&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1090" y="798.2466">updatedTime: &lt;timeStamp1&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1074" y="813.3794">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1058" y="828.5122">}</text><polygon fill="#A80036" points="718,862.7109,708,866.7109,718,870.7109,714,866.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="712" x2="1036" y1="866.7109" y2="866.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="724" y="861.645">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="746" y="861.645">Return Participant position for a currency id</text><polygon fill="#A80036" points="118,891.8438,108,895.8438,118,899.8438,114,895.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="696" y1="895.8438" y2="895.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="890.7778">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="146" y="890.7778">Return Participant position for a currency id</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1833" y1="904.8438" y2="904.8438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="210" x="38" y="915.0542">[currency parameter not passed]</text><polygon fill="#A80036" points="1374,950.9141,1384,954.9141,1374,958.9141,1378,954.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1047" x2="1380" y1="954.9141" y2="954.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1054" y="942.2817">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="1076" y="934.7153">Fetch Participant Positions for all currencies</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1076" y="949.8481">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1162" y="949.8481">2003</text><polygon fill="#A80036" points="1732,980.0469,1742,984.0469,1732,988.0469,1736,984.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1396" x2="1738" y1="984.0469" y2="984.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1403" y="978.981">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="1425" y="978.981">Fetch Participant Positions for all currencies</text><polygon fill="#FFFFE0" filter="url(#f15gc2i58yrj07)" points="1684,997.0469,1813,997.0469,1823,1016.0469,1813,1035.0469,1684,1035.0469,1674,1016.0469,1684,997.0469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1686" y="1013.1138">participantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1686" y="1028.2466">participantPosition</text><polygon fill="#A80036" points="1407,1057.4453,1397,1061.4453,1407,1065.4453,1403,1061.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1401" x2="1748" y1="1061.4453" y2="1061.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1413" y="1056.3794">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="1435" y="1056.3794">Retrieved Participant Positions for all currencies</text><polygon fill="#A80036" points="1058,1086.5781,1048,1090.5781,1058,1094.5781,1054,1090.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1052" x2="1390" y1="1090.5781" y2="1090.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1064" y="1085.5122">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="1086" y="1085.5122">Return Participant Positions for all currencies</text><path d="M1052,1103.5781 L1052,1339.5781 L1315,1339.5781 L1315,1113.5781 L1305,1103.5781 L1052,1103.5781 " fill="#FFFF00" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1305,1103.5781 L1305,1113.5781 L1315,1113.5781 L1305,1103.5781 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1058" y="1120.645">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1058" y="1135.7778">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1074" y="1150.9106">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1090" y="1166.0435">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="1106" y="1181.1763">currency: &lt;currencyId1&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1106" y="1196.3091">value: &lt;positionValue1&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1106" y="1211.4419">updatedTime: &lt;timeStamp1&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="1090" y="1226.5747">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1090" y="1241.7075">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="1106" y="1256.8403">currency: &lt;currencyId2&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1106" y="1271.9731">value: &lt;positionValue2&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1106" y="1287.106">updatedTime: &lt;timeStamp2&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1090" y="1302.2388">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1074" y="1317.3716">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1058" y="1332.5044">}</text><polygon fill="#A80036" points="718,1366.7031,708,1370.7031,718,1374.7031,714,1370.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="712" x2="1036" y1="1370.7031" y2="1370.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="724" y="1365.6372">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="746" y="1365.6372">Return Participant Positions for all currencies</text><polygon fill="#A80036" points="118,1395.8359,108,1399.8359,118,1403.8359,114,1399.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="696" y1="1399.8359" y2="1399.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1394.77">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="146" y="1394.77">Return Participant Positions for all currencies</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1843" y1="1415.8359" y2="1415.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="28" y="1426.0464">[Validate participant (failure)]</text><path d="M1052,1434.6406 L1052,1459.6406 L1184,1459.6406 L1184,1444.6406 L1174,1434.6406 L1052,1434.6406 " fill="#FF0000" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1174,1434.6406 L1174,1444.6406 L1184,1444.6406 L1174,1434.6406 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1058" y="1451.7075">Validation failure!</text><path d="M1052,1473.7734 L1052,1588.7734 L1439,1588.7734 L1439,1483.7734 L1429,1473.7734 L1052,1473.7734 " fill="#FFFF00" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1429,1473.7734 L1429,1483.7734 L1439,1483.7734 L1429,1473.7734 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1058" y="1490.8403">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1058" y="1505.9731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="1074" y="1521.106">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1074" y="1536.2388">"errorCode": 3201,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="350" x="1074" y="1551.3716">"errorDescription": "FSP id does not exist or not found",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1074" y="1566.5044">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1058" y="1581.6372">}</text><polygon fill="#A80036" points="718,1615.8359,708,1619.8359,718,1623.8359,714,1619.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="712" x2="1041" y1="1619.8359" y2="1619.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="724" y="1614.77">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="746" y="1614.77">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="792" y="1614.77">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="878" y="1614.77">3201</text><polygon fill="#A80036" points="118,1644.9688,108,1648.9688,118,1652.9688,114,1648.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="696" y1="1648.9688" y2="1648.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1643.9028">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="146" y="1643.9028">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="192" y="1643.9028">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="278" y="1643.9028">3201</text><!--
@startuml
title 4.1.0 Get Participant Position Details

autonumber


entity "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Participant Handler" as PARTICIPANT_HANDLER
entity "Central Service API" as CSAPI
entity "Participant DAO" as PARTICIPANT_DAO
entity "Position Facade" as POSITION_DAO
database "Central Store" as DB
box "HUB Operator" #LightBlue
participant OPERATOR
end box

box "Central Service" #LightYellow
participant CSAPI
participant PARTICIPANT_HANDLER
participant PARTICIPANT_DAO
participant POSITION_DAO
participant DB
end box


activate OPERATOR
group Get Position Details
    OPERATOR -> CSAPI: Request to get positions - GET - /participants/{name}/positions?currency={currencyId}
    activate CSAPI
    CSAPI -> PARTICIPANT_HANDLER: Fetch Positions for Participant
    activate PARTICIPANT_HANDLER
    PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch Participant \n<color #FF0000><b>Error code:</b> 2003,3201 </color>

    activate PARTICIPANT_DAO
    PARTICIPANT_DAO ->DB: Fetch Participant
    activate DB
    hnote over DB #lightyellow
        participant
    end note
    DB - -> PARTICIPANT_DAO: Retrieved Participant
    deactivate DB
    PARTICIPANT_DAO - ->PARTICIPANT_HANDLER: Return Participant
    deactivate PARTICIPANT_DAO
    PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Validate DFSP \n<color #FF0000><b>Error code:</b> 3201</color>
    alt Validate participant (success)
        PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: currency parameter passed ?

        alt currency parameter passed

            PARTICIPANT_HANDLER ->POSITION_DAO: Fetch Participant position for a currency id\n<color #FF0000><b>Error code:</b> 2003 </color>
            activate POSITION_DAO
            POSITION_DAO ->DB: Fetch Participant position for a currency id
            activate DB
            hnote over DB #lightyellow
                participantCurrency
                participantPosition
            end note
            DB - -> POSITION_DAO: Retrieved Participant position for a currency id
            deactivate DB
            POSITION_DAO - ->PARTICIPANT_HANDLER: Return Positions for Participant
            deactivate POSITION_DAO
            note right of PARTICIPANT_HANDLER #yellow
                Message:
                {
                    {
                        currency: <currencyId>,
                        value: <positionValue>,
                        updatedTime: <timeStamp1>
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return Participant position for a currency id
            CSAPI - ->OPERATOR: Return Participant position for a currency id
        else currency parameter not passed
            PARTICIPANT_HANDLER ->POSITION_DAO: Fetch Participant Positions for all currencies\n<color #FF0000><b>Error code:</b> 2003 </color>
            activate POSITION_DAO
            POSITION_DAO ->DB: Fetch Participant Positions for all currencies
            activate DB
            hnote over DB #lightyellow
                participantCurrency
                participantPosition
            end note
            DB - -> POSITION_DAO: Retrieved Participant Positions for all currencies
            deactivate DB
            POSITION_DAO - ->PARTICIPANT_HANDLER: Return Participant Positions for all currencies
            deactivate POSITION_DAO
            note right of PARTICIPANT_HANDLER #yellow
                Message:
                {
                    [
                        {
                            currency: <currencyId1>,
                            value: <positionValue1>,
                            updatedTime: <timeStamp1>
                        },
                        {
                            currency: <currencyId2>,
                            value: <positionValue2>,
                            updatedTime: <timeStamp2>
                        }
                    ]
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return Participant Positions for all currencies
            CSAPI - ->OPERATOR: Return Participant Positions for all currencies
        end
    else Validate participant (failure)
        note right of PARTICIPANT_HANDLER #red: Validation failure!
        activate PARTICIPANT_HANDLER
        note right of PARTICIPANT_HANDLER #yellow
            Message:
            {
                "errorInformation": {
                "errorCode": 3201,
                "errorDescription": "FSP id does not exist or not found",
                }
            }
        end note
        PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3201</color>
        deactivate PARTICIPANT_HANDLER
        CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3201</color>
    end

end

deactivate CSAPI
deactivate OPERATOR

@enduml

PlantUML version 1.2018.03(Thu Apr 05 11:59:15 CDT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 10.0.2+13-Ubuntu-1ubuntu0.18.04.1
Operating System: Linux
OS Version: 4.15.0-33-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
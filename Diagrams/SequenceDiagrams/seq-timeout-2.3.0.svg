<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1144px" preserveAspectRatio="none" style="width:1728px;height:1144px;" version="1.1" viewBox="0 0 1728 1144" width="1728px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tkoxhiu6mf8q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="771.5" y="22.9951">2.3.0. Transfer Timeout</text><rect fill="#D3D3D3" height="1098.9766" style="stroke: #A80036; stroke-width: 1.0;" width="204" x="4" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="7" y="46.3638">Financial Service Providers</text><rect fill="#ADD8E6" height="1098.9766" style="stroke: #A80036; stroke-width: 1.0;" width="356" x="210" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="301.5" y="46.3638">ML API Adapter Service</text><rect fill="#FFFFE0" height="1098.9766" style="stroke: #A80036; stroke-width: 1.0;" width="1133" x="568" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="1079" y="46.3638">Central Service</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="442" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="657.5" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1136.5" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1459.5" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="843.6563" style="stroke: #000000; stroke-width: 2.0;" width="1688" x="29" y="170.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="352.5313" style="stroke: #000000; stroke-width: 2.0;" width="1145" x="562" y="279.5547"/><rect fill="#FFFFFF" height="306.2656" style="stroke: none; stroke-width: 1.0;" width="1145" x="562" y="325.8203"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="131.6641" style="stroke: #000000; stroke-width: 2.0;" width="1668" x="39" y="675.2188"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="131.6641" style="stroke: #000000; stroke-width: 2.0;" width="1606" x="101" y="875.0156"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="75" x2="75" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="137" x2="137" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="268" x2="268" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="447" x2="447" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="662" x2="662" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="850" x2="850" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="999" x2="999" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1141" x2="1141" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1298.5" x2="1298.5" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1464" x2="1464" y1="153.0234" y2="1030.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1626" x2="1626" y1="153.0234" y2="1030.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="49" y="133.4248">DFSP1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="53" y="149.7217">Payer</text><ellipse cx="75" cy="63.4297" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M75,71.4297 L75,98.4297 M62,79.4297 L88,79.4297 M75,98.4297 L62,113.4297 M75,98.4297 L88,113.4297 " fill="none" filter="url(#f1tkoxhiu6mf8q)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="49" y="1042.6748">DFSP1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="53" y="1058.9717">Payer</text><ellipse cx="75" cy="1072.2734" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M75,1080.2734 L75,1107.2734 M62,1088.2734 L88,1088.2734 M75,1107.2734 L62,1122.2734 M75,1107.2734 L88,1122.2734 " fill="none" filter="url(#f1tkoxhiu6mf8q)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="111" y="133.4248">DFSP2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="113" y="149.7217">Payee</text><ellipse cx="137" cy="63.4297" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M137,71.4297 L137,98.4297 M124,79.4297 L150,79.4297 M137,98.4297 L124,113.4297 M137,98.4297 L150,113.4297 " fill="none" filter="url(#f1tkoxhiu6mf8q)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="111" y="1042.6748">DFSP2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="113" y="1058.9717">Payee</text><ellipse cx="137" cy="1072.2734" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M137,1080.2734 L137,1107.2734 M124,1088.2734 L150,1088.2734 M137,1107.2734 L124,1122.2734 M137,1107.2734 L150,1122.2734 " fill="none" filter="url(#f1tkoxhiu6mf8q)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="214" y="149.7217">ML API Adapter</text><path d="M247.5,108.7266 L247.5,132.7266 M247.5,120.7266 L264.5,120.7266 " fill="none" filter="url(#f1tkoxhiu6mf8q)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="276.5" cy="120.7266" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="214" y="1042.6748">ML API Adapter</text><path d="M247.5,1049.9766 L247.5,1073.9766 M247.5,1061.9766 L264.5,1061.9766 " fill="none" filter="url(#f1tkoxhiu6mf8q)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="276.5" cy="1061.9766" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="224" x="332" y="149.7217">ML API Notification Event Handler</text><ellipse cx="447" cy="120.7266" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="443,108.7266,449,103.7266,447,108.7266,449,113.7266,443,108.7266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="224" x="332" y="1042.6748">ML API Notification Event Handler</text><ellipse cx="447" cy="1061.9766" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="443,1049.9766,449,1044.9766,447,1049.9766,449,1054.9766,443,1049.9766" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="572" y="149.7217">Transfer Timeout Handler</text><ellipse cx="662.5" cy="120.7266" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="658.5,108.7266,664.5,103.7266,662.5,108.7266,664.5,113.7266,658.5,108.7266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="572" y="1042.6748">Transfer Timeout Handler</text><ellipse cx="662.5" cy="1061.9766" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="658.5,1049.9766,664.5,1044.9766,662.5,1049.9766,664.5,1054.9766,658.5,1049.9766" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="767" y="113.7266"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="763" y="117.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="770" y="137.7217">topic-transfer-position</text><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="767" y="1029.6797"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="763" y="1033.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="770" y="1053.6748">topic-transfer-position</text><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="951" y="113.7266"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="947" y="117.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="954" y="137.7217">Event-Topic</text><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="951" y="1029.6797"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="947" y="1033.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="954" y="1053.6748">Event-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="1061" y="149.7217">Position Event Handler</text><ellipse cx="1141.5" cy="120.7266" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1137.5,108.7266,1143.5,103.7266,1141.5,108.7266,1143.5,113.7266,1137.5,108.7266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="1061" y="1042.6748">Position Event Handler</text><ellipse cx="1141.5" cy="1061.9766" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1137.5,1049.9766,1143.5,1044.9766,1141.5,1049.9766,1143.5,1054.9766,1137.5,1049.9766" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1241.5" y="113.7266"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1237.5" y="117.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1244.5" y="137.7217">Transfer-Topic</text><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1241.5" y="1029.6797"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1237.5" y="1033.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1244.5" y="1053.6748">Transfer-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1383" y="149.7217">Transfer Event Handler</text><ellipse cx="1464.5" cy="120.7266" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1460.5,108.7266,1466.5,103.7266,1464.5,108.7266,1466.5,113.7266,1460.5,108.7266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1383" y="1042.6748">Transfer Event Handler</text><ellipse cx="1464.5" cy="1061.9766" fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1460.5,1049.9766,1466.5,1044.9766,1464.5,1049.9766,1466.5,1054.9766,1460.5,1049.9766" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1560" y="113.7266"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1556" y="117.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1563" y="137.7217">Notification-Topic</text><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1560" y="1029.6797"/><rect fill="#FEFECE" filter="url(#f1tkoxhiu6mf8q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1556" y="1033.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1563" y="1053.6748">Notification-Topic</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="442" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="657.5" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1136.5" y="163.0234"/><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="857.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1459.5" y="163.0234"/><path d="M29,170.0234 L185,170.0234 L185,177.0234 L175,187.0234 L29,187.0234 L29,170.0234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="843.6563" style="stroke: #000000; stroke-width: 2.0;" width="1688" x="29" y="170.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="44" y="183.0903">Transfer Expiry</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="55.3984" style="stroke: #000000; stroke-width: 2.0;" width="481" x="569" y="212.1563"/><polygon fill="#EEEEEE" points="569,212.1563,635,212.1563,635,219.1563,625,229.1563,569,229.1563,569,212.1563" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="582" y="226.2231">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="696" y="245.2231">Timeout Handler Consume {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="879" y="245.2231">2.3.1.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="879" x2="915" y1="247.2231" y2="247.2231"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="915" y="245.2231">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="700" y="260.356"/><path d="M562,279.5547 L626,279.5547 L626,286.5547 L616,296.5547 L562,296.5547 L562,279.5547 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="352.5313" style="stroke: #000000; stroke-width: 2.0;" width="1145" x="562" y="279.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="577" y="292.6216">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="263" x="641" y="291.7651">[transferStateId == 'RECEIVED_PREPARE']</text><polygon fill="#A80036" points="1614.5,313.8203,1624.5,317.8203,1614.5,321.8203,1618.5,317.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667.5" x2="1620.5" y1="317.8203" y2="317.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="674.5" y="312.7544">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="687.5" y="312.7544">Produce message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="562" x2="1707" y1="326.8203" y2="326.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="567" y="337.0308">[transferStateId == 'RESERVED']</text><polygon fill="#A80036" points="838,357.7578,848,361.7578,838,365.7578,842,361.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667.5" x2="844" y1="361.7578" y2="361.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="674.5" y="356.6919">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="687.5" y="356.6919">Produce message</text><polygon fill="#A80036" points="861,386.8906,851,390.8906,861,394.8906,857,390.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="855" x2="1135.5" y1="390.8906" y2="390.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="867" y="385.8247">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="880" y="385.8247">Consume message</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="55.3984" style="stroke: #000000; stroke-width: 2.0;" width="598.5" x="760" y="398.8906"/><polygon fill="#EEEEEE" points="760,398.8906,826,398.8906,826,405.8906,816,415.8906,760,415.8906,760,398.8906" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="773" y="412.9575">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="843.25" y="431.9575">Position Hander Consume (Timeout) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="1087.25" y="431.9575">seq-position-1.3.3-abort.svg</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1087.25" x2="1267.25" y1="433.9575" y2="433.9575"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1267.25" y="431.9575">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="847.25" y="447.0903"/><polygon fill="#A80036" points="1286.5,476.4219,1296.5,480.4219,1286.5,484.4219,1290.5,480.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1146.5" x2="1292.5" y1="480.4219" y2="480.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1153.5" y="475.356">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1166.5" y="475.356">Produce message</text><polygon fill="#A80036" points="1309.5,530.5547,1299.5,534.5547,1309.5,538.5547,1305.5,534.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1303.5" x2="1458.5" y1="534.5547" y2="534.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1315.5" y="529.4888">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1328.5" y="529.4888">Consume message</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="55.3984" style="stroke: #000000; stroke-width: 2.0;" width="752" x="944" y="542.5547"/><polygon fill="#EEEEEE" points="944,542.5547,1010,542.5547,1010,549.5547,1000,559.5547,944,559.5547,944,542.5547" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="957" y="556.6216">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="1173.5" y="575.6216">Transfer Handler Consume (Timeout) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="1422.5" y="575.6216">2.3.3.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1422.5" x2="1458.5" y1="577.6216" y2="577.6216"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1458.5" y="575.6216">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1177.5" y="590.7544"/><polygon fill="#A80036" points="1614.5,620.0859,1624.5,624.0859,1614.5,628.0859,1618.5,624.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1469.5" x2="1620.5" y1="624.0859" y2="624.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1476.5" y="619.02">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1489.5" y="619.02">Produce message</text><polygon fill="#A80036" points="1614.5,656.2188,1624.5,660.2188,1614.5,664.2188,1618.5,660.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="1620.5" y1="660.2188" y2="660.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="459" y="655.1528">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="472" y="655.1528">Consume message</text><path d="M39,675.2188 L109,675.2188 L109,682.2188 L99,692.2188 L39,692.2188 L39,675.2188 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="131.6641" style="stroke: #000000; stroke-width: 2.0;" width="1668" x="39" y="675.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="54" y="688.2856">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="320" x="124" y="687.4292">[action IN ['timeout-received', 'timeout-reserved']]</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="55.3984" style="stroke: #000000; stroke-width: 2.0;" width="1650" x="46" y="717.3516"/><polygon fill="#EEEEEE" points="46,717.3516,112,717.3516,112,724.3516,102,734.3516,46,734.3516,46,717.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="59" y="731.4185">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="714" y="750.4185">Send notification to Participant (Payer) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="48" x="972" y="750.4185">1.1.4.a.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="972" x2="1020" y1="752.4185" y2="752.4185"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1020" y="750.4185">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="718" y="765.5513"/><polygon fill="#A80036" points="86,794.8828,76,798.8828,86,802.8828,82,798.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="80" x2="441" y1="798.8828" y2="798.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="92" y="793.8169">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="105" y="793.8169">Send callback notification</text><polygon fill="#A80036" points="1614.5,856.0156,1624.5,860.0156,1614.5,864.0156,1618.5,860.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="1620.5" y1="860.0156" y2="860.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="459" y="854.9497">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="472" y="854.9497">Consume message</text><path d="M101,875.0156 L171,875.0156 L171,882.0156 L161,892.0156 L101,892.0156 L101,875.0156 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="131.6641" style="stroke: #000000; stroke-width: 2.0;" width="1606" x="101" y="875.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="116" y="888.0825">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="186" y="887.2261">[action == 'timeout-reserved']</text><rect fill="#FFFFFF" filter="url(#f1tkoxhiu6mf8q)" height="55.3984" style="stroke: #000000; stroke-width: 2.0;" width="1588" x="108" y="917.1484"/><polygon fill="#EEEEEE" points="108,917.1484,174,917.1484,174,924.1484,164,934.1484,108,934.1484,108,917.1484" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="121" y="931.2153">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="743.5" y="950.2153">Send notification to Participant (Payee) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="48" x="1004.5" y="950.2153">1.1.4.a.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1004.5" x2="1052.5" y1="952.2153" y2="952.2153"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1052.5" y="950.2153">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="747.5" y="965.3481"/><polygon fill="#A80036" points="148,994.6797,138,998.6797,148,1002.6797,144,998.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="142" x2="441" y1="998.6797" y2="998.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="154" y="993.6138">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="176" y="993.6138">Send callback notification</text><!--
@startuml
title 2.3.0. Transfer Timeout

autonumber


actor "DFSP1\nPayer" as DFSP1
actor "DFSP2\nPayee" as DFSP2
boundary "ML API Adapter" as MLAPI
control "ML API Notification Event Handler" as NOTIFY_HANDLER
control "Transfer Timeout Handler" as EXP_HANDLER
collections "topic-transfer-position" as TOPIC_TRANSFER_POSITION
control "Position Event Handler" as POS_HANDLER
collections "Transfer-Topic" as TOPIC_TRANSFERS
control "Transfer Event Handler" as TRANS_HANDLER
collections "Notification-Topic" as TOPIC_NOTIFICATIONS
collections "Event-Topic" as TOPIC_EVENT

box "Financial Service Providers" #lightGray
	participant DFSP1
	participant DFSP2
end box

box "ML API Adapter Service" #LightBlue
	participant MLAPI
	participant NOTIFY_HANDLER
end box

box "Central Service" #LightYellow
    participant EXP_HANDLER
    participant TOPIC_TRANSFER_POSITION
    participant TOPIC_EVENT
    participant POS_HANDLER
    participant TOPIC_TRANSFERS
    participant TRANS_HANDLER
    participant TOPIC_NOTIFICATIONS
end box

activate NOTIFY_HANDLER
activate EXP_HANDLER
activate POS_HANDLER
activate TRANS_HANDLER
group Transfer Expiry
    |||
    ref over EXP_HANDLER, TOPIC_EVENT :  Timeout Handler Consume {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg 2.3.1.]]} \n
    alt transferStateId == 'RECEIVED_PREPARE'
        EXP_HANDLER -> TOPIC_NOTIFICATIONS: Produce message
    else transferStateId == 'RESERVED'
        EXP_HANDLER -> TOPIC_TRANSFER_POSITION: Produce message
        TOPIC_TRANSFER_POSITION <- POS_HANDLER: Consume message
        ref over TOPIC_TRANSFER_POSITION, TOPIC_TRANSFERS :  Position Hander Consume (Timeout) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg seq-position-1.3.3-abort.svg]]} \n
        POS_HANDLER -> TOPIC_TRANSFERS: Produce message
        |||
        TOPIC_TRANSFERS <- TRANS_HANDLER: Consume message
        ref over TOPIC_EVENT, TOPIC_NOTIFICATIONS : Transfer Handler Consume (Timeout) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg 2.3.3.]]} \n
        TRANS_HANDLER -> TOPIC_NOTIFICATIONS: Produce message
    end
    TOPIC_NOTIFICATIONS <- NOTIFY_HANDLER: Consume message
    opt action IN ['timeout-received', 'timeout-reserved']
        |||
        ref over DFSP1, TOPIC_NOTIFICATIONS : Send notification to Participant (Payer) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg 1.1.4.a.]]} \n
        NOTIFY_HANDLER -> DFSP1: Send callback notification
    end
    |||
    TOPIC_NOTIFICATIONS <- NOTIFY_HANDLER: Consume message
    opt action == 'timeout-reserved'
        |||
        ref over DFSP2, TOPIC_NOTIFICATIONS : Send notification to Participant (Payee) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg 1.1.4.a.]]} \n
        NOTIFY_HANDLER -> DFSP2: Send callback notification
    end
end
deactivate TRANS_HANDLER
deactivate POS_HANDLER
deactivate EXP_HANDLER
deactivate NOTIFY_HANDLER
@enduml

PlantUML version 1.2018.12(Sun Oct 21 05:15:15 CDT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_191-8u191-b12-0ubuntu0.16.04.1-b12
Operating System: Linux
OS Version: 4.4.0-31-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>